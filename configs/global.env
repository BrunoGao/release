# 基础服务统一配置文件
# 更新时间: 2025-01-23

# ===================
# 网络和主机配置
# ===================
HOST_IP=192.168.1.83
NETWORK_NAME=cicd-network

# ===================
# Gitea 配置
# ===================
GITEA_PORT=33000
GITEA_SSH_PORT=32222
GITEA_URL=http://localhost:33000
GITEA_DOMAIN=localhost
GITEA_ROOT_URL=http://localhost:33000/

# Gitea 数据库
GITEA_DB_TYPE=sqlite3
GITEA_DB_PATH=/data/gitea/gitea.db

# Gitea 功能配置
GITEA_DISABLE_SSH=false
GITEA_ENABLE_ACTIONS=true
GITEA_ENABLE_REGISTRATION=true
GITEA_REQUIRE_SIGNIN=false

# ===================
# Jenkins 配置  
# ===================
JENKINS_PORT=38080
JENKINS_AGENT_PORT=35000
JENKINS_URL=http://localhost:38080
JENKINS_ADMIN_ID=admin
JENKINS_ADMIN_PASSWORD=admin123

# Jenkins JVM 配置
JENKINS_JAVA_OPTS="-Xmx2g -Xms1g -Djenkins.install.runSetupWizard=false"
JENKINS_OPTS=--httpPort=8080

# Jenkins 集成配置
JENKINS_GITEA_URL=http://gitea:33000
JENKINS_REGISTRY_URL=registry:5000

# ===================
# Docker Registry 配置
# ===================
REGISTRY_PORT=35001
REGISTRY_UI_PORT=35002
REGISTRY_URL=localhost:35001

# Registry 认证
REGISTRY_USERNAME=admin
REGISTRY_PASSWORD=admin123
REGISTRY_AUTH=htpasswd
REGISTRY_AUTH_PATH=/auth/htpasswd

# Registry 存储
REGISTRY_STORAGE_PATH=/var/lib/registry

# ===================
# 时区和本地化
# ===================
TZ=Asia/Shanghai
LANG=zh_CN.UTF-8

# ===================
# Docker 配置
# ===================
DOCKER_BUILDKIT=1
COMPOSE_PROJECT_NAME=infra

# 多平台构建
BUILD_PLATFORMS=linux/amd64,linux/arm64
BUILDX_BUILDER_NAME=multiplatform-builder

# ===================
# 监控配置 (预留)
# ===================
PROMETHEUS_PORT=37001
GRAFANA_PORT=37002

# ===================
# 安全配置
# ===================
# 生成随机密钥的命令: openssl rand -base64 32
SECRET_KEY_BASE=changeme-secret-key
JWT_SECRET=changeme-jwt-secret

# ===================
# 备份配置
# ===================
BACKUP_DIR=/Users/brunogao/work/infra/backup
BACKUP_RETENTION_DAYS=30