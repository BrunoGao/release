<script setup lang="ts">
import { computed } from 'vue';
import { NAlert, NButton, NSpace } from 'naive-ui';
import { useCustomer } from '@/hooks/business/customer';

defineOptions({
  name: 'CustomerSelectionPrompt'
});

const { isAdmin, needsCustomerSelection, currentCustomer } = useCustomer();

// æ˜¯å¦æ˜¾ç¤ºé€‰æ‹©æç¤º
const showPrompt = computed(() => {
  return isAdmin.value && needsCustomerSelection.value;
});
</script>

<template>
  <div v-if="showPrompt" class="customer-selection-prompt">
    <NAlert type="info" :bordered="false" :show-icon="true" class="mb-4">
      <template #header>è¯·é€‰æ‹©è¦ç®¡ç†çš„å®¢æˆ·</template>

      <div>
        <p class="mb-3">æ‚¨å½“å‰ä»¥è¶…çº§ç®¡ç†å‘˜èº«ä»½ç™»å½•ï¼Œè¯·å…ˆé€‰æ‹©è¦ç®¡ç†çš„å®¢æˆ·ï¼Œç„¶åå¼€å§‹ä½¿ç”¨ç³»ç»ŸåŠŸèƒ½ã€‚</p>

        <NSpace>
          <div class="text-sm text-gray-500">ğŸ’¡ æç¤ºï¼šæ‚¨å¯ä»¥åœ¨é¡µé¢å³ä¸Šè§’çš„å®¢æˆ·åˆ‡æ¢å™¨ä¸­é€‰æ‹©å®¢æˆ·</div>
        </NSpace>
      </div>
    </NAlert>
  </div>
</template>

<style scoped>
.customer-selection-prompt {
  @apply w-full max-w-2xl mx-auto;
}

:deep(.n-alert) {
  @apply rounded-lg border-l-4 border-l-blue-500;
}

:deep(.n-alert .n-alert__icon) {
  @apply text-blue-500;
}
</style>
