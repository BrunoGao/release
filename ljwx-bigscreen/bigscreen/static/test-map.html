<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>åœ°å›¾åŠ è½½æµ‹è¯•</title>
    <style>
        #map-container {
            width: 100%;
            height: 500px;
            border: 1px solid #ccc;
        }
        .log {
            background: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>ğŸ—ºï¸ åœ°å›¾åŠ è½½æµ‹è¯•</h1>
    <div id="map-container"></div>
    <div class="log" id="log"></div>
    
    <script>
        const log = document.getElementById('log');
        function addLog(msg, type = 'info') {
            const time = new Date().toLocaleTimeString();
            const color = type === 'error' ? 'red' : type === 'success' ? 'green' : 'blue';
            log.innerHTML += `<div style="color: ${color}">[${time}] ${msg}</div>`;
            log.scrollTop = log.scrollHeight;
            console.log(msg);
        }

        addLog('å¼€å§‹æµ‹è¯•åœ°å›¾åŠ è½½...');
        
        // æ£€æµ‹ç½‘ç»œè¿æ¥
        const img = new Image();
        img.onload = function() {
            addLog('âœ… ç½‘ç»œè¿æ¥æ­£å¸¸', 'success');
            
            // åŠ¨æ€åŠ è½½é«˜å¾·åœ°å›¾API
            addLog('æ­£åœ¨åŠ è½½é«˜å¾·åœ°å›¾API...');
            const script = document.createElement('script');
            script.src = 'https://webapi.amap.com/maps?v=2.0&key=7de0c6b90cb13571ce931ca75a66c6e7';
            
            script.onload = function() {
                addLog('âœ… é«˜å¾·åœ°å›¾APIåŠ è½½æˆåŠŸ', 'success');
                
                // åŠ è½½Loca
                const locaScript = document.createElement('script');
                locaScript.src = 'https://webapi.amap.com/loca?v=2.0.0&key=7de0c6b90cb13571ce931ca75a66c6e7';
                
                locaScript.onload = function() {
                    addLog('âœ… Loca APIåŠ è½½æˆåŠŸ', 'success');
                    
                    // åˆå§‹åŒ–åœ°å›¾
                    try {
                        addLog('æ­£åœ¨åˆå§‹åŒ–åœ°å›¾...');
                        const map = new AMap.Map('map-container', {
                            zoom: 15,
                            center: [114.01508952, 22.58036796],
                            mapStyle: 'amap://styles/blue'
                        });
                        
                        map.on('complete', function() {
                            addLog('âœ… åœ°å›¾åˆå§‹åŒ–æˆåŠŸï¼', 'success');
                        });
                        
                    } catch (error) {
                        addLog('âŒ åœ°å›¾åˆå§‹åŒ–å¤±è´¥: ' + error.message, 'error');
                    }
                };
                
                locaScript.onerror = function() {
                    addLog('âŒ Loca APIåŠ è½½å¤±è´¥', 'error');
                };
                
                document.head.appendChild(locaScript);
            };
            
            script.onerror = function() {
                addLog('âŒ é«˜å¾·åœ°å›¾APIåŠ è½½å¤±è´¥', 'error');
            };
            
            document.head.appendChild(script);
        };
        
        img.onerror = function() {
            addLog('âŒ ç½‘ç»œè¿æ¥å¤±è´¥', 'error');
        };
        
        img.src = 'https://webapi.amap.com/favicon.ico?' + Date.now();
    </script>
</body>
</html> 