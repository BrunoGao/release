# ç™»å½•è®¤è¯æµ‹è¯•éªŒè¯

## ğŸ” ç™»å½•æ¥å£è¯¦ç»†è¯´æ˜

### æ¥å£ä¿¡æ¯
- **URL**: `http://192.168.1.83:3333/proxy-default/auth/user_name`
- **æ–¹æ³•**: POST
- **Content-Type**: application/json

### è¯·æ±‚å‚æ•°
```json
{
  "userName": "admin",
  "password": "80a3d119ee1501354755dfc3c4638d74c67c801689efbed4f25f06cb4b1cd776"
}
```

### é¢„æœŸå“åº”ç»“æ„
```json
{
  "success": true,
  "code": 200,
  "data": {
    "token": "å®é™…çš„è®¤è¯Token",
    "userInfo": {
      "id": ç”¨æˆ·ID,
      "customerId": ç§Ÿæˆ·ID,
      // å…¶ä»–ç”¨æˆ·ä¿¡æ¯...
    }
  }
}
```

## ğŸ”‘ Tokenä½¿ç”¨æ–¹å¼

### Headeré…ç½®
æµ‹è¯•ä¸­ä½¿ç”¨åŒé‡è®¤è¯Headerç¡®ä¿å…¼å®¹æ€§ï¼š
```
satoken: {è·å–çš„Token}
Authorization: Bearer {è·å–çš„Token}
```

## ğŸ§ª è®¤è¯æµ‹è¯•ç”¨ä¾‹

### 1. Adminç”¨æˆ·ç™»å½•æµ‹è¯•
- âœ… éªŒè¯æ­£ç¡®ç”¨æˆ·åå¯†ç ç™»å½•æˆåŠŸ
- âœ… éªŒè¯Tokenæå–å’Œæ ¼å¼
- âœ… éªŒè¯ç”¨æˆ·ä¿¡æ¯è§£æ

### 2. Tokenæœ‰æ•ˆæ€§æµ‹è¯•
- âœ… ä½¿ç”¨Tokenè®¿é—®éœ€è¦è®¤è¯çš„æ¥å£
- âœ… éªŒè¯é¦–é¡µæ±‡æ€»æ¥å£è®¿é—®æˆåŠŸ

### 3. è®¤è¯å®‰å…¨æµ‹è¯•
- âœ… æ— Tokenè®¿é—®è¢«æ‹’ç»
- âœ… é”™è¯¯Tokenè®¿é—®è¢«æ‹’ç»
- âœ… ç©ºç”¨æˆ·åç™»å½•è¢«æ‹’ç»
- âœ… é”™è¯¯å¯†ç ç™»å½•è¢«æ‹’ç»

## ğŸ“ æµ‹è¯•æ‰§è¡Œç¤ºä¾‹

```bash
# å•ç‹¬è¿è¡Œè®¤è¯æµ‹è¯•
cd test-automation
mvn test -Dtest=AuthenticationTest

# æŸ¥çœ‹è¯¦ç»†ç™»å½•æ—¥å¿—
mvn test -Dtest=AuthenticationTest -Dlogback.level=DEBUG
```

## ğŸ” æ•…éšœæ’æŸ¥

å¦‚æœç™»å½•å¤±è´¥ï¼Œæ£€æŸ¥ï¼š
1. **ç½‘ç»œè¿æ¥**: `curl -v http://192.168.1.83:3333/proxy-default/auth/user_name`
2. **æœåŠ¡çŠ¶æ€**: ç¡®è®¤ljwx-bootæœåŠ¡æ­£å¸¸è¿è¡Œ
3. **æ•°æ®åº“è¿æ¥**: ç¡®è®¤MySQLä¸­adminç”¨æˆ·å­˜åœ¨
4. **å“åº”æ ¼å¼**: æŸ¥çœ‹å®é™…ç™»å½•å“åº”ç»“æ„æ˜¯å¦ä¸é¢„æœŸåŒ¹é…

## ğŸ¯ å…³é”®éªŒè¯ç‚¹

- [x] **ç™»å½•æˆåŠŸ**: è¿”å›200çŠ¶æ€ç å’Œsuccess=true
- [x] **Tokenè·å–**: æˆåŠŸæå–è®¤è¯Token
- [x] **ç”¨æˆ·ä¿¡æ¯**: è·å–ç”¨æˆ·IDå’Œç§Ÿæˆ·ID
- [x] **åç»­è®¿é—®**: Tokenå¯ç”¨äºåç»­APIè°ƒç”¨
- [x] **å®‰å…¨é˜²æŠ¤**: æ— æ•ˆè¯·æ±‚è¢«æ­£ç¡®æ‹’ç»