# ljwx-boot 宿主机运行配置 - 优化版本
export SPRING_PROFILES_ACTIVE=host

# MySQL配置 - 使用宿主机MySQL（优化）
export MYSQL_HOST=localhost
export MYSQL_PORT=3306
export MYSQL_USER=root
export MYSQL_PASSWORD=123456
export MYSQL_DATABASE=test

# Redis配置 - 使用宿主机Redis（优化）
export REDIS_HOST=localhost
export REDIS_PORT=6379
export REDIS_PASSWORD=123456
export REDIS_DB=0

# 服务端口配置
export SERVER_PORT=9998
export MANAGEMENT_PORT=9999

# 日志配置（优化）
export LOG_LEVEL=info
export LOG_FILE=logs/ljwx-boot-host.log
export SQL_LOG_LEVEL=warn #SQL日志级别
export SQL_PARAM_LOG_LEVEL=warn #SQL参数日志级别
export MYBATIS_LOG_IMPL=org.apache.ibatis.logging.nop.NopImpl #MyBatis日志实现

# JPA配置
export JPA_SHOW_SQL=false #是否显示SQL
export JPA_DDL_AUTO=validate #DDL自动策略

# OSS配置
export OSS_NAME=local
export OSS_ENDPOINT=
export OSS_ACCESS_KEY=
export OSS_SECRET_KEY=
export OSS_BUCKET_NAME=ljwx
export OSS_LOCAL_PATH=./data/uploads

# AI服务配置（可选）
export OLLAMA_ENABLED=false
export OLLAMA_BASE_URL=http://localhost:11434
export OLLAMA_MODEL=qwen2.5:7b

# 向量数据库配置（可选）
export PGVECTOR_HOST=localhost
export PGVECTOR_PORT=5432
export PGVECTOR_DB=vector_db
export PGVECTOR_USER=postgres
export PGVECTOR_PASSWORD=postgres

# 监控和指标配置
export PROMETHEUS_ENABLED=false #是否启用Prometheus
export MONITOR_ENABLED=true #是否启用系统监控
export DEBUG_MODE=false #是否启用调试模式

# 项目版本信息
export PROJECT_VERSION=1.0.0

# JVM参数优化（宿主机环境）
export JAVA_OPTS="-Xmx3g -Xms1g -XX:MetaspaceSize=512m -XX:MaxMetaspaceSize=1g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+DisableExplicitGC -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=logs/heap-dump.hprof -XX:+UseStringDeduplication -XX:+OptimizeStringConcat -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai"

# 系统性能优化参数
export SPRING_JPA_HIBERNATE_JDBC_BATCH_SIZE=50 #批处理大小
export SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20 #数据库连接池大小
export SPRING_REDIS_LETTUCE_POOL_MAX_ACTIVE=15 #Redis连接池大小

# 安全配置
export SECURITY_JWT_EXPIRE_TIME=7200 #JWT过期时间（秒）
export SECURITY_JWT_REFRESH_EXPIRE_TIME=86400 #刷新Token过期时间（秒）

# 异步任务配置
export ASYNC_CORE_POOL_SIZE=5 #异步任务核心线程数
export ASYNC_MAX_POOL_SIZE=20 #异步任务最大线程数
export ASYNC_QUEUE_CAPACITY=100 #任务队列容量

# 缓存配置
export CACHE_DEFAULT_EXPIRATION=3600 #默认缓存过期时间（秒）
export CACHE_REDIS_TOPIC=ljwx:cache #Redis缓存主题

# 上传配置
export UPLOAD_MAX_SIZE=100MB #上传文件最大大小
export UPLOAD_TEMP_DIR=/tmp/ljwx-uploads #上传临时目录

# 服务器优化配置
export SERVER_TOMCAT_MAX_THREADS=200 #Tomcat最大线程数
export SERVER_TOMCAT_MIN_SPARE_THREADS=10 #Tomcat最小空闲线程数
export SERVER_TOMCAT_MAX_CONNECTIONS=8192 #Tomcat最大连接数
export SERVER_TOMCAT_ACCEPT_COUNT=100 #Tomcat等待队列长度
export SERVER_COMPRESSION_ENABLED=true #启用响应压缩

# 健康检查配置
export HEALTH_DISKSPACE_THRESHOLD=10GB #磁盘空间健康检查阈值

# 宿主机环境标识
export LJWX_ENV=host
export DEPLOYMENT_MODE=jar
